<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>BiliBili爬取弹幕制作词云</title>
      <link href="/2022/09/16/BiliBili%E7%88%AC%E5%8F%96%E5%BC%B9%E5%B9%95%E5%88%B6%E4%BD%9C%E8%AF%8D%E4%BA%91/"/>
      <url>/2022/09/16/BiliBili%E7%88%AC%E5%8F%96%E5%BC%B9%E5%B9%95%E5%88%B6%E4%BD%9C%E8%AF%8D%E4%BA%91/</url>
      
        <content type="html"><![CDATA[<a class="btn-beautify outline blue larger" href="https://github.com/YupenBob/Bilibili_Wordcloud"   title="Bilibili_Wordcloud"><i class="fab fa-github"></i><span>Bilibili_Wordcloud</span></a><p>今天我在CSDN看到了一篇文章，可以把一大段文字使用Python的<a href="https://github.com/amueller/word_cloud">WordCloud</a>库生成一张图，出现频率越多的词在图上的大小越大，这种图叫做词云。斯…我突发奇想：之前学过网络爬虫，如果我把B站的弹幕爬取下来，做成词云…..嗯…开始实践！</p><h1 id="分析思路"><a href="#分析思路" class="headerlink" title="分析思路"></a>分析思路</h1><p>我们要爬取一个视频的弹幕，先要分析一下B站的视频地址结构，这里先搞了几个视频</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.bilibili.com/video/BV1Qd4y1d7px</span><br><span class="line">https://www.bilibili.com/video/BV1HL4y1577D</span><br><span class="line">https://www.bilibili.com/video/BV14P4y1A7UG</span><br></pre></td></tr></table></figure><p>em，可以看到结构大致为<code>https://www.bilibili.com/video/BV</code>后面10位大小写字母和数字组合而成</p><p>知道了地址结构，下面来说说视频的弹幕，每一个视频都有一个xml文件，里面写了这个视频弹幕都有那些，在几分几秒，什么颜色之类的。</p><p>然后我们随便选择一个视频，按<code>F12</code>打开<code>开发者工具</code>，点击<code>Network</code>一栏，<code>Ctrl</code>+<code>R</code>重新加载一下，选第一个<code>BV</code>开头的，选<code>Response</code>，<code>Ctrl</code>+<code>F</code>搜索<code>cids</code>，看到这串蓝色的数字就是这个视频的cid</p><p><img src="https://file.yupenbob.ml/img/202209142121717.jpg" alt=""></p><p>关于B站弹幕xml地址我查了好多文章，总结xml地址位<code>http://comment.bilibili.com/&quot;这里写cid&quot;.xml</code>，列如视频URL为<a href="https://www.bilibili.com/video/BV1Qd4y1d7px">https://www.bilibili.com/video/BV1Qd4y1d7px</a>的视频，BV为<code>1Qd4y1d7px</code>，cid为<a href="https://comment.bilibili.com/815259646.xml">https://comment.bilibili.com/815259646.xml</a>，弹幕xml内容如下</p><p><img src="https://file.yupenbob.ml/img/202209142134025.png" alt=""></p><p>有了xml弹幕信息后面就好弄了，直接把所有弹幕分词，生成词云就OK了</p><h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>我们来准备一下这个项目所需要的东西</p><h2 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h2><p>首先安装这个项目所需的第三方库，比较多<br>使用pip安装wordcloud词云生成库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wordcloud</span><br></pre></td></tr></table></figure><p>由于要设计图形处理，要安装PIL库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pillow</span><br></pre></td></tr></table></figure><p>安装numpy库，用来处理词云文字颜色</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy</span><br></pre></td></tr></table></figure><p>由于要解析XML，需安装lxml库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install lxml</span><br></pre></td></tr></table></figure><p>因为需要涉及到正则表达式，要安装re库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install re</span><br></pre></td></tr></table></figure><p>最重要的爬取网站！需要安装requests库！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><p>这里就拿微软雅黑吧</p><a class="btn-beautify outline blue larger" href="https://file.yupenbob.ml/file/msyhbd.ttc"   title="下载msyhbd.ttc"><i class="fa fa-cloud-download"></i><span>下载msyhbd.ttc</span></a><h2 id="模板图片"><a href="#模板图片" class="headerlink" title="模板图片"></a>模板图片</h2><p>这里生成词云用到的模板图片，我就拿我头像吧，改个色</p><a class="btn-beautify outline blue larger" href="https://file.yupenbob.ml/file/back.jpg"   title="下载back.jpg"><i class="fa fa-cloud-download"></i><span>下载back.jpg</span></a><h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><p>好的，接下来让我们开始写程序</p><h2 id="导入第三方库"><a href="#导入第三方库" class="headerlink" title="导入第三方库"></a>导入第三方库</h2><p>像这样全部搞里头！</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> ImageColorGenerator</span><br><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> requests,jieba,re</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="设置http请求头"><a href="#设置http请求头" class="headerlink" title="设置http请求头"></a>设置http请求头</h2><p>首先B站有反爬，需要设置http请求头，em我就直接把我浏览器里的搬过来了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#http请求头</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)\</span></span><br><span class="line"><span class="string">     AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="解析视频弹幕xml地址"><a href="#解析视频弹幕xml地址" class="headerlink" title="解析视频弹幕xml地址"></a>解析视频弹幕xml地址</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解析视频弹幕xml地址</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">DanmuURL_get</span>(<span class="params">bv</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;解析视频弹幕xml地址&quot;</span>)</span><br><span class="line">    video_url = bv</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;BV:&quot;</span>+video_url)</span><br><span class="line">    response = requests.get(video_url, headers=headers) <span class="comment">#获取html</span></span><br><span class="line">    html = response.content.decode()</span><br><span class="line">    cid = re.findall(<span class="string">r&#x27;(&quot;cid&quot;:)([0-9]+)&#x27;</span>, html) <span class="comment">#获取cid</span></span><br><span class="line">    xml_url = <span class="string">&quot;http://comment.bilibili.com/&quot;</span> + <span class="built_in">str</span>(cid[<span class="number">0</span>][<span class="number">1</span>]) + <span class="string">&quot;.xml&quot;</span></span><br><span class="line">    <span class="keyword">return</span> xml_url</span><br></pre></td></tr></table></figure><h2 id="获取弹幕信息"><a href="#获取弹幕信息" class="headerlink" title="获取弹幕信息"></a>获取弹幕信息</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Danmu_get</span>(<span class="params">xml_url</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;获取弹幕信息&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;XML:&quot;</span> + xml_url)</span><br><span class="line">    response = requests.get(xml_url, headers=headers)  <span class="comment"># 获取信息</span></span><br><span class="line">    html = etree.HTML(response.content)</span><br><span class="line">    danmu_list = html.xpath(<span class="string">&quot;//d/text()&quot;</span>)  <span class="comment"># 解析xml</span></span><br><span class="line">    <span class="keyword">return</span> danmu_list</span><br></pre></td></tr></table></figure><h2 id="初始化定义"><a href="#初始化定义" class="headerlink" title="初始化定义"></a>初始化定义</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">danmu_list = []  <span class="comment"># 定义弹幕列表</span></span><br><span class="line">txt = <span class="string">&quot;&quot;</span>  <span class="comment"># 定义弹幕文本</span></span><br><span class="line"><span class="comment"># 需要爬取的视频BV</span></span><br><span class="line">bv = [</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1HL4y1577D&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1dr4y1H77b&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1h34y1k7m1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV14P4y1A7UG&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ES4y1y7K1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1tL4y1c7hj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1LB4y1X7Nj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ya411W7Lv&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1aa411Z7U2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1Qd4y1d7px&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="词云生成"><a href="#词云生成" class="headerlink" title="词云生成"></a>词云生成</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 词云生成</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">WordCloud_make</span>(<span class="params">danmuimg, txt</span>):</span><br><span class="line">    mask = np.array(Image.<span class="built_in">open</span>(danmuimg))  <span class="comment"># 导入背景图片</span></span><br><span class="line">    color = ImageColorGenerator(mask, default_color=<span class="literal">None</span>)  <span class="comment"># 分析背景文字颜色</span></span><br><span class="line">    wordcloud = WordCloud(  <span class="comment"># 都可以随便修改</span></span><br><span class="line">        background_color=<span class="string">&quot;white&quot;</span>,  <span class="comment"># 背景颜色</span></span><br><span class="line">        max_words=<span class="number">114514</span>,  <span class="comment"># 最大词量（喜）</span></span><br><span class="line">        mask=mask,  <span class="comment"># 导入图片</span></span><br><span class="line">        color_func=color,  <span class="comment"># 文字颜色</span></span><br><span class="line">        max_font_size=<span class="number">120</span>,  <span class="comment"># 最大文字大小</span></span><br><span class="line">        font_path=<span class="string">&quot;msyhbd.ttc&quot;</span>  <span class="comment"># 字体</span></span><br><span class="line">    ).generate(txt)</span><br><span class="line">    wordcloud.to_file(<span class="string">&#x27;out.jpg&#x27;</span>)  <span class="comment"># 输出图片</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;生成完毕，输出图片out.jpg&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="主程序开始"><a href="#主程序开始" class="headerlink" title="主程序开始"></a>主程序开始</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 程序开始</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 开始调用</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> bv:</span><br><span class="line">        xml_url = DanmuURL_get(i)</span><br><span class="line">        danmu_list = Danmu_get(xml_url)</span><br><span class="line">        <span class="comment"># 拼接danmu_list</span></span><br><span class="line">        <span class="keyword">for</span> a <span class="keyword">in</span> danmu_list:</span><br><span class="line">            txt = txt + a</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生成</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;获取完成,正在生成词云&quot;</span>)</span><br><span class="line">    WordCloud_make(<span class="string">&quot;back.jpg&quot;</span>, txt)</span><br></pre></td></tr></table></figure><p>ok这样就完成了</p><h1 id="最终代码"><a href="#最终代码" class="headerlink" title="最终代码"></a>最终代码</h1><p>不想一步步来的可以直接复制此代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> ImageColorGenerator</span><br><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> requests, jieba, re</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># http请求头</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)\</span></span><br><span class="line"><span class="string">     AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">danmu_list = []  <span class="comment"># 定义弹幕列表</span></span><br><span class="line">txt = <span class="string">&quot;&quot;</span>  <span class="comment"># 定义弹幕文本</span></span><br><span class="line"><span class="comment"># 需要爬取的视频BV</span></span><br><span class="line">bv = [</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1HL4y1577D&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1dr4y1H77b&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1h34y1k7m1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV14P4y1A7UG&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ES4y1y7K1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1tL4y1c7hj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1LB4y1X7Nj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ya411W7Lv&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1aa411Z7U2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1Qd4y1d7px&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析视频弹幕xml地址</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">DanmuURL_get</span>(<span class="params">bv</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;解析视频弹幕xml地址&quot;</span>)</span><br><span class="line">    video_url = bv</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;BV:&quot;</span> + video_url)</span><br><span class="line">    response = requests.get(video_url, headers=headers)  <span class="comment"># 获取信息</span></span><br><span class="line">    html = response.content.decode()</span><br><span class="line">    cid = re.findall(<span class="string">r&#x27;(&quot;cid&quot;:)([0-9]+)&#x27;</span>, html)  <span class="comment"># 获取cid</span></span><br><span class="line">    xml_url = <span class="string">&quot;http://comment.bilibili.com/&quot;</span> + <span class="built_in">str</span>(cid[<span class="number">0</span>][<span class="number">1</span>]) + <span class="string">&quot;.xml&quot;</span></span><br><span class="line">    <span class="keyword">return</span> xml_url</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取弹幕信息</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Danmu_get</span>(<span class="params">xml_url</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;获取弹幕信息&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;XML:&quot;</span> + xml_url)</span><br><span class="line">    response = requests.get(xml_url, headers=headers)  <span class="comment"># 获取信息</span></span><br><span class="line">    html = etree.HTML(response.content)</span><br><span class="line">    danmu_list = html.xpath(<span class="string">&quot;//d/text()&quot;</span>)  <span class="comment"># 解析xml</span></span><br><span class="line">    <span class="keyword">return</span> danmu_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 词云生成</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">WordCloud_make</span>(<span class="params">danmuimg, txt</span>):</span><br><span class="line">    mask = np.array(Image.<span class="built_in">open</span>(danmuimg))  <span class="comment"># 导入背景图片</span></span><br><span class="line">    color = ImageColorGenerator(mask, default_color=<span class="literal">None</span>)  <span class="comment"># 分析背景文字颜色</span></span><br><span class="line">    wordcloud = WordCloud(  <span class="comment"># 都可以随便修改</span></span><br><span class="line">        background_color=<span class="string">&quot;white&quot;</span>,  <span class="comment"># 背景颜色</span></span><br><span class="line">        max_words=<span class="number">114514</span>,  <span class="comment"># 最大词量（喜）</span></span><br><span class="line">        mask=mask,  <span class="comment"># 导入图片</span></span><br><span class="line">        color_func=color,  <span class="comment"># 文字颜色</span></span><br><span class="line">        max_font_size=<span class="number">120</span>,  <span class="comment"># 最大文字大小</span></span><br><span class="line">        font_path=<span class="string">&quot;msyhbd.ttc&quot;</span>  <span class="comment"># 字体</span></span><br><span class="line">    ).generate(txt)</span><br><span class="line">    wordcloud.to_file(<span class="string">&#x27;out.jpg&#x27;</span>)  <span class="comment"># 输出图片</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;生成完毕，输出图片out.jpg&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序开始</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 开始调用</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> bv:</span><br><span class="line">        xml_url = DanmuURL_get(i)</span><br><span class="line">        danmu_list = Danmu_get(xml_url)</span><br><span class="line">        <span class="comment"># 拼接danmu_list</span></span><br><span class="line">        <span class="keyword">for</span> a <span class="keyword">in</span> danmu_list:</span><br><span class="line">            txt = txt + a</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生成</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;获取完成,正在生成词云&quot;</span>)</span><br><span class="line">    WordCloud_make(<span class="string">&quot;back.jpg&quot;</span>, txt)</span><br></pre></td></tr></table></figure><h1 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h1><p>来看一下效果如何吧，示例用以下几段视频</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bv = [</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1HL4y1577D&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1dr4y1H77b&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1h34y1k7m1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV14P4y1A7UG&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ES4y1y7K1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1tL4y1c7hj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1LB4y1X7Nj&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1ya411W7Lv&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1aa411Z7U2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://www.bilibili.com/video/BV1Qd4y1d7px&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>日志如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1HL4y1577D</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/572081457.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1dr4y1H77b</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/563748171.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1h34y1k7m1</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/518688148.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV14P4y1A7UG</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/497618147.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1ES4y1y7K1</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/497090740.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1tL4y1c7hj</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/710618932.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1LB4y1X7Nj</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/733727872.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1ya411W7Lv</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/759671800.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1aa411Z7U2</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/791084545.xml</span><br><span class="line">解析视频弹幕xml地址</span><br><span class="line">BV:https://www.bilibili.com/video/BV1Qd4y1d7px</span><br><span class="line">获取弹幕信息</span><br><span class="line">XML:http://comment.bilibili.com/815259646.xml</span><br><span class="line">获取完成,正在生成词云</span><br><span class="line">生成完毕，输出图片out.jpg</span><br><span class="line"></span><br><span class="line">进程已结束,退出代码0</span><br></pre></td></tr></table></figure><p>输出图片</p><p><img src="https://file.yupenbob.ml//img/202209162139056.jpg" alt=""></p><p>如果你电脑有配置的话，可以试试把全B站的视频都输入进去[doge]</p>]]></content>
      
      
      <categories>
          
          <category> Python创意 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 爬虫 </tag>
            
            <tag> WordCloud </tag>
            
            <tag> 词云 </tag>
            
            <tag> 哔哩哔哩 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Freenom免费白嫖域名</title>
      <link href="/2022/08/09/Freenom%E5%85%8D%E8%B4%B9%E7%99%BD%E5%AB%96%E5%9F%9F%E5%90%8D/"/>
      <url>/2022/08/09/Freenom%E5%85%8D%E8%B4%B9%E7%99%BD%E5%AB%96%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="Freemon"><a href="#Freemon" class="headerlink" title="Freemon"></a>Freemon</h1><p>Freemon免费提供注册<code>.tk</code> <code>.ml</code> <code>.cf</code> <code>.ga</code> <code>.gq</code>域名与DNS，可以免费注册一年，到期时可以免费再续期一年，对于没有资金的同学建站是个不错的选择，但这些免费域名可能会被制裁，比如<em>不收录、不被托管、得不到流量</em>之类的，如果是大型站点的话还是<strong>建议使用其他付费域名</strong></p><h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><ul><li>科学上网软件（最好是在美国）</li><li>一个Google或者FaceBook账户（或者国外邮箱）</li></ul><h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><blockquote><p>Freemon：<a href="https://www.freenom.com/">https://www.freenom.com/</a></p></blockquote><h2 id="选购"><a href="#选购" class="headerlink" title="选购"></a>选购</h2><p>打开Freemon，如下图</p><ul><li><p>在输入框输入你想要的域名，长度在4及以上的是免费的，然后点<code>检查可用性</code>就好了，注意后缀也要加上，不然会显示不可用的，例如我的<code>ybob.cf</code><img src="https://file.yupenbob.ml/img/202208181358053.jpg" alt="Freemon"></p></li><li><p>点击完成就好了，然后来到订单页面<img src="https://file.yupenbob.ml/img/202208181414114.jpg" alt=""></p></li><li><p>选择<code>12 Months @ FREE</code> 选项，然后点击<code>Continue</code>即可<img src="https://file.yupenbob.ml/img/202208181417030.jpg" alt=""></p></li><li><p>选择Google登录，Google账户如何注册此章不讲，如果你有FaceBook你就拿它登录，邮箱的话不能拿国内的，登录完之后会返回首页<img src="https://file.yupenbob.ml/img/202208181423927.jpg" alt=""></p></li></ul><h2 id="修改信息"><a href="#修改信息" class="headerlink" title="修改信息"></a>修改信息</h2><div class="note warning simple"><p>此章非常重要，请认真观看，不然会导致被Freenom判定为机器人</p></div><div class="note warning simple"><p>此章非常重要，请认真观看，不然会导致被Freenom判定为机器人</p></div><div class="note warning simple"><p>此章非常重要，请认真观看，不然会导致被Freenom判定为机器人</p></div><p>重要的事情说三遍</p><ul><li><p>打开<a href="https://www.ipip.net/">IPIP</a>网站，查询自己VPN所在国家和地区（至关重要），最好VPN属地是美国<img src="https://file.yupenbob.ml/img/202208182030308.jpg" alt=""></p></li><li><p>回到Freenom，点击<code>Hello ###</code> — <code>Edit Account Details</code><img src="https://file.yupenbob.ml/img/202208182009819.jpg" alt=""></p></li><li><p>进入<code>Edit Account Details</code>页面后，开始修改信息，详见下图，填完点<code>Save Changes</code>即可<img src="https://file.yupenbob.ml/img/202208182027767.jpg" alt=""></p></li></ul><h2 id="完成注册"><a href="#完成注册" class="headerlink" title="完成注册"></a>完成注册</h2><ul><li><p>然后返回首页，点击<code>Hello ###</code> — <code>View cart</code><img src="https://file.yupenbob.ml/img/202208182051226.jpg" alt=""></p></li><li><p>进入<code>View cart</code>页面后，勾选<code>I have read and agree to the Terms &amp; Conditions</code>，点击<code>Complete Order</code><img src="https://file.yupenbob.ml/img/202208191104409.jpg" alt=""></p></li><li><p>看到这个页面，就算注册成功了，如果显示<code>技术失误问题取消了域名</code>，清重新阅读<a href="#修改信息">修改信息</a>![<a href="https://file.yupenbob.ml/img/202208191214557.jpg">https://file.yupenbob.ml/img/202208191214557.jpg</a>]</p></li></ul><h2 id="修改域名DNS"><a href="#修改域名DNS" class="headerlink" title="修改域名DNS"></a>修改域名DNS</h2><p>Freenom的DNS吧，主要是解析慢、每次修改都得用科学上网，还是把他托管到阿里云或者DNSPOD比较好罢</p><ul><li>来到Freenom首页，点击<code>Services</code>—<code>My Domains</code><img src="https://file.yupenbob.ml/img/202208191222073.jpg" alt=""></li><li>来到<code>My Domains</code>页面后，点你的域名最右边的<code>Manage Domain</code>管理域名<img src="https://file.yupenbob.ml/img/202208191224343.jpg" alt=""></li><li>来到<code>Manage Domain</code>页面后，点击<code>Management Tools</code>—<code>Nameservers</code><img src="https://file.yupenbob.ml/img/202208201532967.jpg" alt=""></li><li>来到<code>Nameservers</code>页面后，选择<code>Use custom nameservers (enter below)</code>，DNS地址怎么填，，具体看运营方的说明<img src="https://file.yupenbob.ml/img/202208201532334.jpg" alt=""></li></ul><p><strong>这白嫖，多是一件美事啊（吸溜）</strong></p>]]></content>
      
      
      <categories>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Freenom </tag>
            
            <tag> 白嫖 </tag>
            
            <tag> 域名 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派配置FTP</title>
      <link href="/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AEFTP/"/>
      <url>/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AEFTP/</url>
      
        <content type="html"><![CDATA[<h1 id="安装vsftpd"><a href="#安装vsftpd" class="headerlink" title="安装vsftpd"></a>安装vsftpd</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure><hr><h1 id="修改配置-etc-vsftpd-conf"><a href="#修改配置-etc-vsftpd-conf" class="headerlink" title="修改配置 /etc/vsftpd.conf"></a>修改配置 /etc/vsftpd.conf</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/vsftpd.conf</span><br></pre></td></tr></table></figure><p>把配置文件修改成如下（最简单配置）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=NO     #匿名帐号 </span><br><span class="line"></span><br><span class="line">local_enable=YES        #本地帐号</span><br><span class="line"></span><br><span class="line">write_enable=YES       #允许使用任何可以修改文件系统的FTP的指令</span><br><span class="line"></span><br><span class="line">local_umask=022       #屏蔽权限即本地用户上传的文件权限</span><br><span class="line"></span><br><span class="line">anon_upload_enable=NO     #允许匿名用户上传文件</span><br><span class="line"></span><br><span class="line">anon_mkdir_write_enable=NO   #允许匿名用户创建新目录</span><br><span class="line"></span><br><span class="line">dirmessage_enable=YES     #允许为目录配置显示信息    </span><br><span class="line"></span><br><span class="line">ascii_upload_enable=YES    # 管控是否可用ASCII 模式上传</span><br><span class="line"></span><br><span class="line">ascii_download_enable=YES    #管控是否可用ASCII 模式下载</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后ctrl+s保存，ctrl+x退出</p><hr><h1 id="更多详细配置"><a href="#更多详细配置" class="headerlink" title="更多详细配置"></a>更多详细配置</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=YES 是否允许匿名帐号</span><br><span class="line">local_enable=YES  是否允许本地帐号</span><br><span class="line">write_enable=YES  是否允许使用任何可以修改文件系统的FTP的指令</span><br><span class="line">local_umask=022 本用户的文件掩码</span><br><span class="line">anon_upload_enable=YES是否允许匿名用户上传文件</span><br><span class="line">anon_mkdir_write_enable=YES是否允许匿名用户创建新目录</span><br><span class="line">dirmessage_enable=YES 是否显示欢迎信息</span><br><span class="line">xferlog_enable=YES 开启日记功能</span><br><span class="line">connect_from_port_20=YES 设定ftp服务数据端口</span><br><span class="line">chown_uploads=YES是否允许修改上传文件的属主</span><br><span class="line">chown_username=whoever如果允许，输入该属主的用户名</span><br><span class="line">xferlog_file=/var/log/xferlog日志文件位置</span><br><span class="line">xferlog_std_format=YES 使用标准的日志格式</span><br><span class="line">idle_session_timeout=600空闲连接超时</span><br><span class="line">data_connection_timeout=120数据传输超时</span><br><span class="line">nopriv_user=ftpsecure当服务器运行于最底层时使用的用户名</span><br><span class="line">async_abor_enable=YES是否允许使用\&quot;async ABOR\&quot;命令,一般不用,容易出问题</span><br><span class="line">ascii_upload_enable=YES是否可用ASCII 模式上传。默认值为NO</span><br><span class="line">ascii_download_enable=YES是否可用ASCII 模式下载。默认值为NO</span><br><span class="line">ftpd_banner=Welcome to blah FTP service   login时显示欢迎信息</span><br><span class="line">deny_email_enable=YES如果匿名用户需要密码,那么使用banned_email_file里面的电子邮件地址的用户不能登录</span><br><span class="line">banned_email_file=/etc/vsftpd/banned_emails禁止使用匿名用户登陆时作为密码的电子邮件地址</span><br><span class="line">chroot_list_enable=YES如果启动这项功能，则所有列在chroot_list_file中的使用者不能更改根目录</span><br><span class="line">chroot_list_file=/etc/vsftpd/chroot_list定义不能更改用户主目录的文件</span><br><span class="line">userlist_enable=YES 若启用此选项,userlist_deny选项才被启动</span><br></pre></td></tr></table></figure><hr><h1 id="创建ftp家庭目录并启动"><a href="#创建ftp家庭目录并启动" class="headerlink" title="创建ftp家庭目录并启动"></a>创建ftp家庭目录并启动</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo –pv ~/ftp</span><br><span class="line">sudo /etc/init.d/vsftpd start</span><br></pre></td></tr></table></figure><hr><h1 id="开发主机安装-FileZilla-Client"><a href="#开发主机安装-FileZilla-Client" class="headerlink" title="开发主机安装 FileZilla Client"></a>开发主机安装 FileZilla Client</h1><blockquote><p>下载链接：<a href="https://www.filezilla.cn/download/client">https://www.filezilla.cn/download/client</a></p></blockquote><p>输入树莓派ip，用户名pi，密码raspberry，连接成功<br><img src="https://img-blog.csdnimg.cn/c344bd28363d47fca3a3f67865a46be9.jpeg#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      <categories>
          
          <category> 树莓派教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Debian </tag>
            
            <tag> Linux </tag>
            
            <tag> 树莓派 </tag>
            
            <tag> FTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派配置远程桌面</title>
      <link href="/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/"/>
      <url>/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="配置树莓派远程桌面"><a href="#配置树莓派远程桌面" class="headerlink" title="配置树莓派远程桌面"></a>配置树莓派远程桌面</h1><p>安装xrdp服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install xrdp</span><br></pre></td></tr></table></figure><p>安装tightvncserver服务<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install tightvncserver</span><br></pre></td></tr></table></figure><br>安装好以上两个服务后，即可使用WIndows自带工具远程连接到树莓派。</p><hr><h1 id="连接树莓派远程桌面"><a href="#连接树莓派远程桌面" class="headerlink" title="连接树莓派远程桌面"></a>连接树莓派远程桌面</h1><p>打开Windows自带远程桌面连接工具<br><img src="https://img-blog.csdnimg.cn/fd3f173a83bd47428ff7cec4fd4ed6ec.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br> 连接验证，选择【是】即可<br><img src="https://img-blog.csdnimg.cn/484fb8ec98c34511b0e27702643a7ff7.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>填写连接用户名和密码，树莓派默认的用户名为【pi】，对应的默认密码为【raspberry】<br><img src="https://img-blog.csdnimg.cn/93ed86c49d474c009e489376abfd60eb.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2703de4ef04d4f9a92ea523745f690d1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>连接成功</p>]]></content>
      
      
      <categories>
          
          <category> 树莓派教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Debian </tag>
            
            <tag> Linux </tag>
            
            <tag> 树莓派 </tag>
            
            <tag> RD </tag>
            
            <tag> 远程桌面 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派设置中文</title>
      <link href="/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%87/"/>
      <url>/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h1 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ttf-wqy-zenhei</span><br></pre></td></tr></table></figure><hr><h1 id="设置中文显示"><a href="#设置中文显示" class="headerlink" title="设置中文显示"></a>设置中文显示</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config</span><br></pre></td></tr></table></figure><p>在菜单中找到设置语言的地方，中选择zh_CN.UTF-8，然后下一屏幕默认语言选zh_CN.UTF-8<br><strong>提示</strong>： 按空格键在前面打勾或去掉勾，PageUp PageDown快速翻页，Tab键切换光标位置</p><hr><h1 id="安装中文输入法"><a href="#安装中文输入法" class="headerlink" title="安装中文输入法"></a>安装中文输入法</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install scim-pinyin</span><br></pre></td></tr></table></figure><p>输入法切换热键是Ctrl+空格</p><hr><h1 id="重启生效"><a href="#重启生效" class="headerlink" title="重启生效"></a>重启生效</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 树莓派教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Debian </tag>
            
            <tag> Linux </tag>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派用户管理</title>
      <link href="/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/"/>
      <url>/2022/08/06/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="连接树莓派"><a href="#连接树莓派" class="headerlink" title="连接树莓派"></a>连接树莓派</h1><p>首先，用OpenSSH连接树莓派<br><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh pi@&lt;树莓派ip&gt;</span><br></pre></td></tr></table></figure><br>然后输入密码连接成功<br><img src="https://img-blog.csdnimg.cn/1c8cb32d01434e599b3a0cfc0d1f1ce1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><hr><h1 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h1><h2 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h2><p>sudo是增加用户权限，在命令行前面添加<code>sudo</code>相当于以root用户运行这条命令。可以运行<code>sudo su</code>直接切换到root用户操作<img src="https://img-blog.csdnimg.cn/9c36d1204d97468ca3b4e629ca8e15c0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="树莓派教程(2)——树莓派基础配置、汉化、用户、远程桌面、FTP"></p><blockquote><p>“$”为普通用户，”#”为超级用户</p></blockquote><p><code>sudo su</code>切换为超级用户</p><p><img src="https://img-blog.csdnimg.cn/beb9b5d7098c4e5e837d9613a14bea23.png#pic_center" alt="在这里插入图片描述"><br><code>su pi</code>切换为普通用户<br><img src="https://img-blog.csdnimg.cn/821ca62136b248e2970affdeb9b0097e.png#pic_center" alt="在这里插入图片描述"></p><h2 id="更改用户密码"><a href="#更改用户密码" class="headerlink" title="更改用户密码"></a>更改用户密码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd pi  //更改pi用户密码</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root  //更改root密码</span><br></pre></td></tr></table></figure><p>按照提示更改密码</p>]]></content>
      
      
      <categories>
          
          <category> 树莓派教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Debian </tag>
            
            <tag> Linux </tag>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyQt5视频播放器</title>
      <link href="/2022/07/29/PyQt5%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/"/>
      <url>/2022/07/29/PyQt5%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<a class="btn-beautify outline blue larger" href="https://github.com/YupenBob/python-video"   title="python-video"><i class="fab fa-github"></i><span>python-video</span></a><h1 id="UI设计"><a href="#UI设计" class="headerlink" title="UI设计"></a>UI设计</h1><p><img src="https://img-blog.csdnimg.cn/096fd2d5577947ce94527bbffdac449c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWXVwZW5fQm9i,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><h2 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a>代码展示</h2><p>video.ui<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ui</span> <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">class</span>&gt;</span>MainWindow<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QMainWindow&quot;</span> <span class="attr">name</span>=<span class="string">&quot;MainWindow&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>0<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">y</span>&gt;</span>0<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>563<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>335<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minimumSize&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">size</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>563<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>335<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">size</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maximumSize&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">size</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>563<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>335<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">size</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;windowTitle&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string</span>&gt;</span>PyVideo<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;windowIcon&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">iconset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">normaloff</span>&gt;</span>video.png<span class="tag">&lt;/<span class="name">normaloff</span>&gt;</span>video.png<span class="tag">&lt;/<span class="name">iconset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;centralwidget&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QVideoWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;wgt_player&quot;</span> <span class="attr">native</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>30<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>30<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>501<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>241<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>border-radius:7px;</span><br><span class="line">background-color: rgb(197, 197, 197);<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QPushButton&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn_play_pause&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>30<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>292<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>21<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>21<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cursor&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">cursorShape</span>&gt;</span>PointingHandCursor<span class="tag">&lt;/<span class="name">cursorShape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>border:none;</span><br><span class="line">image: url(:/imge/暂停.png);<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QSlider&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sld_duration&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>30<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>275<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>501<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>16<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>QSlider::groove:horizontal &#123;</span><br><span class="line">        height: 2.5px;</span><br><span class="line">margin: 0px 0;  </span><br><span class="line">        background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 rgb(203, 203, 203), stop: 1.0 rgb(203, 203, 203));</span><br><span class="line">&#125;</span><br><span class="line">QSlider::handle:horizontal &#123;</span><br><span class="line">        width: 9px;</span><br><span class="line">height: 5px;</span><br><span class="line">background-color: rgb(44, 44, 44);</span><br><span class="line">        margin: -5px 0px -5px 0px;</span><br><span class="line">     border-radius:4px;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">     QSlider::add-page:Horizontal</span><br><span class="line">     &#123;     </span><br><span class="line">        </span><br><span class="line">        height:4px;</span><br><span class="line">     &#125;</span><br><span class="line">     QSlider::sub-page:Horizontal </span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">background-color: rgb(0, 170, 255);</span><br><span class="line">        height:4px;</span><br><span class="line">     &#125;\</span><br><span class="line">    QSlider::groove:Horizontal</span><br><span class="line">    &#123;\</span><br><span class="line">        background:transparent;</span><br><span class="line">        height:6px;</span><br><span class="line">    &#125;\</span><br><span class="line">    QSlider::handle:Horizontal </span><br><span class="line">    &#123;</span><br><span class="line">        height: 30px;</span><br><span class="line">        width:8px;</span><br><span class="line">        margin: -8 0px; </span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maximum&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">number</span>&gt;</span>1000<span class="tag">&lt;/<span class="name">number</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;orientation&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">enum</span>&gt;</span>Qt::Horizontal<span class="tag">&lt;/<span class="name">enum</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lab_duration&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>60<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>292<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>41<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>21<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;font&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">font</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">family</span>&gt;</span>微软雅黑<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span>&gt;</span>--:--<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QPushButton&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn_select&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>470<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>290<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>61<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>21<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;font&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">font</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">family</span>&gt;</span>微软雅黑<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cursor&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">cursorShape</span>&gt;</span>PointingHandCursor<span class="tag">&lt;/<span class="name">cursorShape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>border:none;</span><br><span class="line">background-color:rgb(153, 153, 153);</span><br><span class="line">color: rgb(255, 255, 255);</span><br><span class="line">border-radius:4px;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span>&gt;</span>选择视频<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QSlider&quot;</span> <span class="attr">name</span>=<span class="string">&quot;volumeSlider&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>390<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>290<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>71<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>20<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>QSlider::groove:horizontal &#123;</span><br><span class="line">        height: 2.5px;</span><br><span class="line">margin: 0px 0;  </span><br><span class="line">        background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 rgb(203, 203, 203), stop: 1.0 rgb(203, 203, 203));</span><br><span class="line">&#125;</span><br><span class="line">QSlider::handle:horizontal &#123;</span><br><span class="line">        width: 9px;</span><br><span class="line">height: 5px;</span><br><span class="line">background-color: rgb(44, 44, 44);</span><br><span class="line">        margin: -5px 0px -5px 0px;</span><br><span class="line">     border-radius:4px;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">     QSlider::add-page:Horizontal</span><br><span class="line">     &#123;     </span><br><span class="line">        </span><br><span class="line">        height:4px;</span><br><span class="line">     &#125;</span><br><span class="line">     QSlider::sub-page:Horizontal </span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">background-color: rgb(0, 170, 255);</span><br><span class="line">        height:4px;</span><br><span class="line">     &#125;\</span><br><span class="line">    QSlider::groove:Horizontal</span><br><span class="line">    &#123;\</span><br><span class="line">        background:transparent;</span><br><span class="line">        height:6px;</span><br><span class="line">    &#125;\</span><br><span class="line">    QSlider::handle:Horizontal </span><br><span class="line">    &#123;</span><br><span class="line">        height: 30px;</span><br><span class="line">        width:8px;</span><br><span class="line">        margin: -8 0px; </span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maximum&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">number</span>&gt;</span>10<span class="tag">&lt;/<span class="name">number</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;value&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">number</span>&gt;</span>8<span class="tag">&lt;/<span class="name">number</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;orientation&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">enum</span>&gt;</span>Qt::Horizontal<span class="tag">&lt;/<span class="name">enum</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;imge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">x</span>&gt;</span>360<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">y</span>&gt;</span>290<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">width</span>&gt;</span>31<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">height</span>&gt;</span>21<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;styleSheet&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span> <span class="attr">notr</span>=<span class="string">&quot;true&quot;</span>&gt;</span>image: url(:/imge/volume.png);<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">string</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QStatusBar&quot;</span> <span class="attr">name</span>=<span class="string">&quot;statusbar&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">customwidgets</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">customwidget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">class</span>&gt;</span>QVideoWidget<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">extends</span>&gt;</span>QWidget<span class="tag">&lt;/<span class="name">extends</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">header</span> <span class="attr">location</span>=<span class="string">&quot;global&quot;</span>&gt;</span>PyQt5.QtMultimediaWidgets<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">container</span>&gt;</span>1<span class="tag">&lt;/<span class="name">container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">customwidget</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">customwidgets</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">location</span>=<span class="string">&quot;Resources.qrc&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">connections</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ui</span>&gt;</span></span><br></pre></td></tr></table></figure><br>直接复制进video.ui就行了</p><hr><h1 id="主文件"><a href="#主文件" class="headerlink" title="主文件"></a>主文件</h1><p>video.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtMultimedia <span class="keyword">import</span> QMediaContent, QMediaPlayer</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QFileDialog, QApplication</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> uic</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">videoPlayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 初始化</span></span><br><span class="line">        self.ui = uic.loadUi(<span class="string">&#x27;./video.ui&#x27;</span>)  <span class="comment"># 加载designer设计的ui程序</span></span><br><span class="line">        <span class="comment"># 播放器</span></span><br><span class="line">        self.player = QMediaPlayer()</span><br><span class="line">        self.player.setVideoOutput(self.ui.wgt_player)</span><br><span class="line">        <span class="comment"># 按钮</span></span><br><span class="line">        self.ui.btn_select.clicked.connect(self.<span class="built_in">open</span>)</span><br><span class="line">        self.ui.btn_play_pause.clicked.connect(self.playPause)</span><br><span class="line">        self.ui.imge.setStyleSheet(<span class="string">&quot;image: url(./volume.png)&quot;</span>)</span><br><span class="line">        self.ui.btn_play_pause.setStyleSheet(<span class="string">&quot;border:none;&quot;</span></span><br><span class="line">                                             <span class="string">&quot;image: url(./暂停.png)&quot;</span>)</span><br><span class="line">        <span class="comment"># 进度条</span></span><br><span class="line">        self.player.durationChanged.connect(self.getDuration)</span><br><span class="line">        self.player.positionChanged.connect(self.getPosition)</span><br><span class="line">        self.ui.sld_duration.sliderMoved.connect(self.updatePosition)</span><br><span class="line">        self.ui.volumeSlider.valueChanged.connect(self.set_volume_func)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">keyPressEvent</span>(<span class="params">self, event</span>):</span><br><span class="line">        <span class="keyword">if</span> event.key() == Qt.Key_Space:</span><br><span class="line">            self.playPause()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_volume_func</span>(<span class="params">self</span>):</span><br><span class="line">        self.player.setVolume(self.ui.volumeSlider.value())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开视频文件</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open</span>(<span class="params">self</span>):</span><br><span class="line">        self.player.setMedia(QMediaContent(QFileDialog.getOpenFileUrl()[<span class="number">0</span>]))</span><br><span class="line">        self.player.play()</span><br><span class="line">    <span class="comment"># 播放视频</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">playPause</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.player.state()==<span class="number">1</span>:</span><br><span class="line">            self.ui.btn_play_pause.setStyleSheet(<span class="string">&quot;border:none;&quot;</span></span><br><span class="line">                                                 <span class="string">&quot;image: url(./播放.png)&quot;</span>)</span><br><span class="line">            self.player.pause()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.ui.btn_play_pause.setStyleSheet(<span class="string">&quot;border:none;&quot;</span></span><br><span class="line">                                                 <span class="string">&quot;image: url(./暂停.png)&quot;</span>)</span><br><span class="line">            self.player.play()</span><br><span class="line">    <span class="comment"># 视频总时长获取</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getDuration</span>(<span class="params">self, d</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;d是获取到的视频总时长（ms）&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.ui.sld_duration.setRange(<span class="number">0</span>, d)</span><br><span class="line">        self.ui.sld_duration.setEnabled(<span class="literal">True</span>)</span><br><span class="line">        self.displayTime(d)</span><br><span class="line">    <span class="comment"># 视频实时位置获取</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getPosition</span>(<span class="params">self, p</span>):</span><br><span class="line">        self.ui.sld_duration.setValue(p)</span><br><span class="line">        self.displayTime(p)</span><br><span class="line">    <span class="comment"># 显示剩余时间</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">displayTime</span>(<span class="params">self, ms</span>):</span><br><span class="line">        minutes = <span class="built_in">int</span>(ms/<span class="number">60000</span>)</span><br><span class="line">        seconds = <span class="built_in">int</span>((ms-minutes*<span class="number">60000</span>)/<span class="number">1000</span>)</span><br><span class="line">        self.ui.lab_duration.setText(<span class="string">&#x27;&#123;&#125;:&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(minutes, seconds))</span><br><span class="line">    <span class="comment"># 用进度条更新视频位置</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">updatePosition</span>(<span class="params">self, v</span>):</span><br><span class="line">        self.player.setPosition(v)</span><br><span class="line">        self.displayTime(self.ui.sld_duration.maximum()-v)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取并设置音量</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">updatevld</span>(<span class="params">self, v</span>):</span><br><span class="line">        self.player.setPosition(v)</span><br><span class="line">        self.volumeSlider.setAudioOutput(self.audioOutput)</span><br><span class="line">        self.displayTime(self.ui.sld_duration.maximum()-v)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    myPlayer = videoPlayer()</span><br><span class="line">    myPlayer.ui.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/9a298c1d157543478ac7729b8de7fb68.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWXVwZW5fQm9i,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>可以随时随地的看罗老师的刑法课了!(awa!)</p>]]></content>
      
      
      <categories>
          
          <category> Python创意 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> PyQt5 </tag>
            
            <tag> UI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派无显示器安装教程</title>
      <link href="/2022/07/29/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%97%A0%E6%98%BE%E7%A4%BA%E5%99%A8%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
      <url>/2022/07/29/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%97%A0%E6%98%BE%E7%A4%BA%E5%99%A8%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="材料准备"><a href="#材料准备" class="headerlink" title="材料准备"></a>材料准备</h1><blockquote><ul><li>一只野生的树莓派4b</li><li>8GB以上的SD卡</li><li>电源线(Type-C)</li><li>网线(可有可无)</li><li>SD卡读卡器</li><li>PC电脑一台</li></ul></blockquote><h1 id="树莓派简介"><a href="#树莓派简介" class="headerlink" title="树莓派简介"></a>树莓派简介</h1><p><img src="https://img-blog.csdnimg.cn/79dfc773206e414ca2e60ee3c75c2206.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="树莓派"></p><p>Raspberry Pi(中文名为“树莓派”,简写为RPi，(或者RasPi / RPI)  是为学习计算机编程教育而设计)，只有信用卡大小的微型电脑，其系统基于Linux。 随着Windows 10 IoT的发布，我们也将可以用上运行Windows的树莓派。<br>自问世以来，受众多计算机发烧友和创客的追捧，曾经一“派”难求。别看其外表“娇小”，内“心”却很强大，视频、音频等功能通通皆有，可谓是“麻雀虽小，五脏俱全”。</p><p><strong>本教程是树莓派4B的安装教程，其他型号请查看其他教程</strong></p><hr><h1 id="树莓派装机"><a href="#树莓派装机" class="headerlink" title="树莓派装机"></a>树莓派装机</h1><p><strong><em>如果已经烧录系统可以跳过本章</em></strong></p><h2 id="树莓派系统下载"><a href="#树莓派系统下载" class="headerlink" title="树莓派系统下载"></a>树莓派系统下载</h2><blockquote><p>下载地址：<a href="https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit">https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/10b2b0fc850b40099180aa5fbdc46775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="树莓派"></p><blockquote><ul><li>带桌面和推荐软件的树莓派操作系统</li><li>带桌面的树莓派操作系统</li><li>无桌面的树莓派操作系统</li></ul></blockquote><p><strong>请根据需求下载对应的文件</strong></p><p>由于系统文件过大，下载特别慢，不是一般的慢</p><p>这里我推荐使用国内清华大学的镜像站：<a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a><br>为了方便，这里把3个版本的系统下载链接放在这里：</p><blockquote><ul><li>带桌面和推荐软件的树莓派操作系统：<a href="https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_full_armhf/images/raspios_full_armhf-2021-05-28/2021-05-07-raspios-buster-armhf-full.zip">https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_full_armhf/images/raspios_full_armhf-2021-05-28/2021-05-07-raspios-buster-armhf-full.zip</a></li><li>带桌面的树莓派操作系统：<a href="https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_armhf/images/raspios_armhf-2021-05-28/2021-05-07-raspios-buster-armhf.zip">https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_armhf/images/raspios_armhf-2021-05-28/2021-05-07-raspios-buster-armhf.zip</a></li><li>无桌面的树莓派操作系统：<a href="https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_lite_armhf/images/raspios_lite_armhf-2021-05-28/2021-05-07-raspios-buster-armhf-lite.zip">https://mirrors.tuna.tsinghua.edu.cn/raspbian-images/raspios_lite_armhf/images/raspios_lite_armhf-2021-05-28/2021-05-07-raspios-buster-armhf-lite.zip</a></li></ul></blockquote><hr><h2 id="格式化SD卡"><a href="#格式化SD卡" class="headerlink" title="格式化SD卡"></a>格式化SD卡</h2><p>先把SD卡插入读卡器，注意一定要插对，再将读卡器插入电脑，听到插入音效并看到盘符即可</p><p><strong>SD卡是不可以直接格式化的，需要下载<a href="https://www.sdcard.org/downloads/formatter/">SD Formatter</a></strong></p><blockquote><p>下载链接：<a href="https://www.sdcardformatter.com/start-download/?id=1">https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip</a></p></blockquote><p>下载完后解压并运行安装程序，一路next即可<br>安装完后<br><img src="https://img-blog.csdnimg.cn/7d88b12ff9694e10b6260748e9829811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70" alt="树莓派"><br>这里就展示个图，选择好SD卡盘符，点Format等待就可以了</p><hr><h2 id="烧录系统"><a href="#烧录系统" class="headerlink" title="烧录系统"></a>烧录系统</h2><p>解压刚才下载的zip文件提取里面的img文件</p><p>烧录系统需要下载<a href="https://win32diskimager.org/">Win32磁盘映像</a></p><blockquote><p>下载链接：<a href="https://win32diskimager.org/wp-content/uploads/win32diskimager-1.0.0-install.exe">https://win32diskimager.org/wp-content/uploads/win32diskimager-1.0.0-install.exe</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/f3b070b5c51946d8994d16d6f8b45628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="树莓派"><br>下载后运行安装程序一路next<br>安装后运行Win32磁盘映像<br><img src="https://img-blog.csdnimg.cn/bf7d128a874540229dad19e5a76affde.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70#pic_center" alt="树莓派"><br>选择好映像文件img文件并选择SD卡按写入并等待<br>由于系统文件过大，请耐心等待</p><p>写入完毕发现多了个boot磁盘，那是SD卡的分区<br><img src="https://img-blog.csdnimg.cn/img_convert/32b81a17771b1bbcf946cc7c00e0ae8f.png#pic_center" alt="树莓派"></p><p>由于没有显示器，需要远程连接所以树莓派需要开启SSH服务<br>在boot分区里添加一个的SSH空文本文件（无后缀名）<br><img src="https://img-blog.csdnimg.cn/23a0c048d3d24839bb698680f89a2b11.png#pic_center" alt="树莓派"></p><h1 id="配置WiFi"><a href="#配置WiFi" class="headerlink" title="配置WiFi"></a>配置WiFi</h1><p><strong><em>如果有网线的可以跳过本章</em></strong></p><p>树莓派4b内配置了WiFi和蓝牙且支持5G<br>在SD卡的boot分区种创建 <strong>wpa_supplicant.conf</strong> 文件<br>内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line">network=&#123;</span><br><span class="line">ssid=&quot;WiFi的名称&quot;</span><br><span class="line">psk=&quot;WiFi密码&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="启动树莓派"><a href="#启动树莓派" class="headerlink" title="启动树莓派"></a>启动树莓派</h1><p>插入电源线，树莓派会自动启动<br>选择网线的，将网线一端插在路由器一端插在树莓派，亮灯即可<br>WiFi会自动启动</p><p>PC电脑和树莓派必须在同一局域网下</p><h2 id="获取树莓派ip"><a href="#获取树莓派ip" class="headerlink" title="获取树莓派ip"></a>获取树莓派ip</h2><p><strong>在树莓派上面，DNS多播是得到Avahi服务支持的</strong><br>一般树莓派的主机名默认就是raspberrypi，并使用.local后缀。将树莓派通过网线和电脑网口连接。电脑无线 设置为共享的。</p><ul><li>在无线图标上右键：打开“网络和internet设置 ”</li><li>更改适配器设置<br><img src="https://img-blog.csdnimg.cn/fa66ad10c0da488388c7215835da31f6.png" alt="在这里插入图片描述"><ul><li>在WLAN上面右键，选择属性<br>共享，勾上√<br><img src="https://img-blog.csdnimg.cn/f99d9f3dbad04cd694736d0dbd575da9.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1cGVuX0JvYg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/6acb94f151da4dc9916ff179af583532.png" alt="在这里插入图片描述"></li></ul></li><li>在命令提示符里面，可以输入：<code>ping raspberrypi.local</code><br><img src="https://img-blog.csdnimg.cn/c2923e9559544a1399349e13960a53f8.png" alt="在这里插入图片描述"><br>这样我们就可以获取树莓派ip了</li></ul><hr><h2 id="连接树莓派"><a href="#连接树莓派" class="headerlink" title="连接树莓派"></a>连接树莓派</h2><p>在命令提示符里面，可以输入：<code>ssh pi@&lt;树莓派ip&gt;</code><br><img src="https://img-blog.csdnimg.cn/9301d6ff6a4642a19c9a35539c1d3a88.png" alt="在这里插入图片描述"><br>这里发现需要密码，树莓派pi账户的默认密码是raspberry<br>这里的密码不会显示写就完了</p><p>询问是否连接，填yes<br><img src="https://img-blog.csdnimg.cn/c1c796600cb249f4b44d0c6af81ea5ec.png" alt="在这里插入图片描述"><br>可以看到这就是树莓派的命令行了</p>]]></content>
      
      
      <categories>
          
          <category> 树莓派教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Debian </tag>
            
            <tag> Linux </tag>
            
            <tag> 安装 </tag>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/07/28/hello-world/"/>
      <url>/2022/07/28/hello-world/</url>
      
        <content type="html"><![CDATA[<h1 id="好耶！"><a href="#好耶！" class="headerlink" title="好耶！"></a>好耶！</h1><p>YupenBobの小窝开放了！</p><blockquote><p>永久地址：<a href="https://www.yupenbob.ml">https://www.yupenbob.ml</a> </p></blockquote><p>这是我第一篇文章awa</p><p>我会把之前写的文章都搬到这里来，后续会写更多</p>]]></content>
      
      
      <categories>
          
          <category> 闲聊 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 闲聊 </tag>
            
            <tag> 其他 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
